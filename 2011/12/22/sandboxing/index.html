
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Sandboxing - Hamish Rickerby</title>
  <meta name="author" content="Hamish Rickerby">

  
  <meta name="description" content="Since the last post and this one, we&rsquo;ve moved 10500 miles (that&rsquo;s nearly 17,000 kilometres!) and only yesterday got all our utilities &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://hamishrickerby.com/2011/12/22/sandboxing">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Hamish Rickerby" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<script type="text/javascript">
    var host = "hamishrickerby.com";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
</script>
<link href="https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/footnote.js" type="text/javascript"></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-535090-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Hamish Rickerby</a></h1>
  
    <h2>Technology Consultant & iOS Developer based in Sydney, Australia</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:hamishrickerby.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/books">Reading List</a></li>
  <li><a href="http://twitter.com/rickerbh">Twitter</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Sandboxing</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-12-22T15:20:00+11:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2011</span></span> <span class='time'>3:20 pm</span></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="https://hamishrickerby.com">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Since the last post and this one, we&rsquo;ve moved 10500 miles (that&rsquo;s nearly 17,000 kilometres!) and only yesterday got all our utilities sorted out, meaning that I&rsquo;ve basically been offline (bar mobile phone for the past 3 weeks). Melbourne is fantastic. I really like it here.</p>

<p>Anyway, I&rsquo;ve been doing a little bit of work on my application, mostly completion of the requirements, data model, and competitor analysis, as well as reading up a bit on UX and Mac way of doing things (I&rsquo;ll probably cover this in another entry), and most recently have been prototyping some code that I thought would be particularly tricky.</p>

<p>What this code does is synchronise data across other applications on your mac, with my (intended) application. The reason behind this was to make the act of populating my application with data, and keeping the data fresh over time, simpler for users - or as John Maeda states in his Second Law of Simplicity:</p>

<blockquote><p>The positive emotional response derived from a simplicity experience has less to do with utility, and more to do with saving time.</p></blockquote>

<p>I&rsquo;m into saving time for my (future) happy users, and reusing data that is already on their Mac helps with this - they don&rsquo;t need to double key or manually join-the-dots between the applications.</p>

<p>The prototyping I was creating was using ScriptingBridge to access data that&rsquo;s available in other applications that a user may use. The prototype was going well - I had managed to get some queries and filtering down from 5 minutes to 90 seconds to 6 seconds which was a nice level optimisation, and although there are some issues with ScriptingBridge, it was going to let me do what I wanted to do.</p>

<p>One of the key things with the distribution of this application for me is to have it in the Mac App Store. New mac users are a growth market (look <a href="http://mashable.com/2011/09/12/apple-set-to-break-record-for-mac-sales-this-fall-report/">at</a> <a href="http://www.appleinsider.com/articles/11/11/14/apple_on_pace_to_sell_record_5_3m_macs_in_holiday_quarter.html">the</a> <a href="http://www.appleinsider.com/articles/11/12/12/quarterly_us_mac_sales_up_13_expected_to_grow_in_december.html">stats</a>), and Apple is pushing them down the Mac App Store route to discover and purchase applications. Not having the app in the Mac App Store would be foolish from my perspective.</p>

<p>Today, I was seeing how I could get the application working under sandboxing - as this is now a requirement for new Mac Apps. It&rsquo;s all about making applications safer for users in terms of the resources they can use in terms of network, disk access etc (<em>although some <a href="http://blog.wilshipley.com/2011/11/real-security-in-mac-os-x-requires.html">prominent developers</a> aren&rsquo;t convinced</em>).</p>

<p>I was sad to discover that ScriptingBridge is precisely one of the technologies that is hit hard by the sandboxing. Basically, applications can receive AppleEvents, send AppleEvents to themselves, and respond to AppleEvents they receive (<a href="http://developer.apple.com/library/mac/#documentation/Miscellaneous/Reference/EntitlementKeyReference/AppSandboxTemporaryExceptionEntitlements/AppSandboxTemporaryExceptionEntitlements.html#//apple_ref/doc/uid/TP40011195-CH5-SW1">source</a>). The upshot of this is that AppleEvents are pretty useless in a environment of sandboxed applications, as you can only send them to yourself (and no-one else can send them to you).</p>

<p>There may be a way around this - Temporary Exceptions to the AppleEvent sending issue. You can obtain a temporary exception to send AppleEvents to other applications through the <code>com.apple.security.temporary-exception.apple-events</code> key-value pair in your Entitlements file. The main issues I see with this are:</p>

<ol>
<li>They are likely to attract more attention in the review cycle - this in general is a good thing as it&rsquo;s important that Apple check what your application is doing to ensure that it&rsquo;s being a good citizen. However, this is likely to slow down the review process and I suspect guidance on what&rsquo;s acceptable is not consistently applied.</li>
<li>They are <em>temporary</em> - Apple could disallow/reject them in the app updates, or just remove the function. The clue is in the name, people.</li>
<li>The intent behind the exception - I suspect that the intention behind the temporary exception is to allow pre-existing applications to migrate to a 100% compliant sandboxing world over time, not for new applications. Approval is at risk here, and I don&rsquo;t want to sink significant effort into getting rock solid sync only to be told it&rsquo;s not allowed.</li>
<li>The overall future of AppleEvents - this (in my mind) is a clear intention that AppleEvents will not have a strategic future at Apple, and that existing applications may drop support for them as no sandboxing compliant applications can actually use the functions. It seems to me risky to use a technology that seems to have a limited future.</li>
</ol>


<p>This leaves me with two options. I can either remove the synchronisation functionality from the application, or I can distribute it outside the Mac App Store. My wife actually suggested a third - do both. I think that&rsquo;s what I&rsquo;ll do. Mac App Store is first priority, and depending on the markets response, I&rsquo;ll look at options for data synchronisation.</p>

<p>Still, it&rsquo;s a massive PITA.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Hamish Rickerby</span></span>

      




<time class='entry-date' datetime='2011-12-22T15:20:00+11:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2011</span></span> <span class='time'>3:20 pm</span></time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="https://hamishrickerby.com/2011/12/22/sandboxing/" data-via="rickerbh" data-counturl="https://hamishrickerby.com/2011/12/22/sandboxing/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2011/11/27/im-on-a-list/" title="Previous Post: I'm on a list">&laquo; I&#8217;m on a list</a>
      
      
        <a class="basic-alignment right" href="/2011/12/29/user-experience-books/" title="Next Post: User Experience Books">User Experience Books &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2016/08/20/software-apprenticeships/">Software Apprenticeships</a>
      </li>
    
      <li class="post">
        <a href="/2016/07/05/a-small-functional-refactoring-of-some-javascript/">A Small Functional Refactoring of Javascript</a>
      </li>
    
      <li class="post">
        <a href="/2016/06/29/meteor-heroku-and-bcrypt/">Meteor, Heroku, and Bcrypt</a>
      </li>
    
      <li class="post">
        <a href="/2016/06/27/back-to-basics-editors/">Back to Basics - Editors</a>
      </li>
    
      <li class="post">
        <a href="/2016/06/23/reading-not-reading/">Reading Not Reading</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/rickerbh">@rickerbh</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'rickerbh',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("rickerbh", , );
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <p>Follow <a href="http://twitter.com/rickerbh">@rickerbh</a></p>
  
</section>


<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/103674783197570316138?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>


<section>
  <h1>For Hire?</h1>
  <p>You can hire my company <a href="http://happtic.com">happtic</a> to create your next iPhone, iPad or Mac application. We&#8217;re based in Melbourne, Australia and work with businesses and enterprises of all sizes, as well as private individuals.</p>
  <p>Get in touch today by emailing <a href="mailto:contact@happtic.com">contact@happtic.com</a></p>
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Hamish Rickerby -
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'itickedthewrongbox';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'https://hamishrickerby.com/2011/12/22/sandboxing/';
        var disqus_url = 'https://hamishrickerby.com/2011/12/22/sandboxing/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
